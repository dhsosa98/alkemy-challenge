(this["webpackJsonpfirts-app"]=this["webpackJsonpfirts-app"]||[]).push([[0],{240:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(52),a=n.n(r),c=n(17),o=n(12),i=n(8),l=n(3),d=n(1),u=Object(s.createContext)(),j=function(e){var t=e.children,n=Object(s.useState)(JSON.parse(localStorage.getItem("user"))),r=Object(l.a)(n,2),a=r[0],c=r[1],o=Object(s.useState)(!!localStorage.getItem("token")),i=Object(l.a)(o,2),j=i[0],m=i[1];return Object(d.jsx)(u.Provider,{value:{user:a,signin:function(e){var t=e.user,n=e.token;c(t),localStorage.setItem("token","Bearer "+n),localStorage.setItem("user",JSON.stringify(t)),m(!0)},signout:function(){c({}),m(!1),localStorage.removeItem("token"),localStorage.removeItem("user")},isAuth:j,setUserData:function(e){localStorage.setItem("user",JSON.stringify(e)),c(e)}},children:t})},m=n(244),b=function(e){var t=e.children;return Object(d.jsx)(m.a,{as:"div",className:" bg-gray-50 rounded-lg shadow-lg p-5 text-gray-800 container  max-w-max mx-auto   ",appear:!0,show:!0,enter:"ease-in-out duration-500",enterFrom:" transform opacity-20 translate-y-10",enterTo:" transform",leave:"ease-out duration-1000",leaveFrom:" transform opacity-100",leaveTo:" transform opacity-50",children:t})},x=function(){var e=Object(s.useContext)(u).user;return Object(d.jsx)(b,{children:Object(d.jsxs)("div",{className:" w-full sm:p-5 grid gap-5",children:[Object(d.jsxs)("div",{className:" grid gap-10 text-indigo-900",children:[Object(d.jsxs)("h1",{className:" text-3xl text-center font-semibold capitalize ",children:["Welcome ","".concat(null===e||void 0===e?void 0:e.name," ").concat(null===e||void 0===e?void 0:e.surname,"!")]}),Object(d.jsx)("h1",{className:" text-xl text-center ",children:"What do you want to do today?"})]}),Object(d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-5",children:[Object(d.jsxs)("div",{className:"p-3  border-2 rounded-lg hover:scale-105 hover:shadow-xl md:ease-in duration-100 transform transition-all bg-indigo-50 justify-center items-center flex flex-col",children:[Object(d.jsx)(i.b,{className:"sm:w-10/12 w-9/12 mx-auto text-indigo-900"}),Object(d.jsx)(c.b,{to:"/operations",className:"py-2 px-4 bg-indigo-500 text-white rounded-md shadow-md hover:bg-indigo-700 cursor-pointer",children:"My Operations"})]}),Object(d.jsxs)("div",{className:"p-3  border-2 rounded-lg hover:scale-105 hover:shadow-xl md:ease-in duration-100 transform transition-all bg-indigo-50 justify-center items-center flex flex-col",children:[Object(d.jsx)(i.h,{className:"sm:w-10/12 w-9/12 mx-auto text-indigo-900"}),Object(d.jsx)(c.b,{to:"/profile",className:"py-2 px-4 bg-indigo-500 text-white rounded-md shadow-md hover:bg-indigo-700 cursor-pointer",children:"My Profile"})]})]})]})})};var h=function(e){var t=e.children;return Object(d.jsx)("div",{className:" grid justify-center items-center min-h-screen bg-gradient-to-r p-2 from-indigo-300 to-indigo-500",children:Object(d.jsx)("div",{className:" bg-gray-50 sm:px-10 px-5 border border-slate-100 shadow-sm rounded-xl",children:t})})},p=n(6),g=n.n(p),f=n(16),O=n(18),v=n(19),y=n.n(v),w="".concat("https://alkemy-back-challenge.herokuapp.com","/api/users"),N=function(){var e=Object(f.a)(g.a.mark((function e(t,n){var s,r,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=10;break}return e.next=4,y.a.post("".concat(w,"/login"),t);case 4:return s=e.sent,r=s.data,console.log(r),e.abrupt("return",r);case 10:return e.next=12,y.a.post("".concat(w,"/googleAuth"),{tokenId:n});case 12:return a=e.sent,c=a.data,console.log(c),e.abrupt("return",c);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),S=n(14),k=n(5),C=n(109);function T(e){var t=e.handleSubmit;return Object(d.jsx)(C.GoogleLogin,{clientId:"661292774313-p86c9eqeadngdutkqvdjhthaagag915t.apps.googleusercontent.com",render:function(e){return Object(d.jsxs)("button",{onClick:e.onClick,className:" inline-flex items-center bg-transparent font-semibold border rounded-md py-1.5 mt-2 px-4 w-full hover:bg-indigo-50",disabled:e.disabled,children:[Object(d.jsx)("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",children:Object(d.jsxs)("g",{fill:"#000",fillRule:"evenodd",children:[Object(d.jsx)("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),Object(d.jsx)("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),Object(d.jsx)("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),Object(d.jsx)("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),Object(d.jsx)("path",{fill:"none",d:"M0 0h18v18H0z"})]})}),Object(d.jsx)("span",{className:"w-full ml-2",children:"Continue with Google"})]})},onSuccess:t,cookiePolicy:"single_host_origin"})}var F=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],a={username:localStorage.getItem("username")||"",password:localStorage.getItem("password")||""},j=Object(s.useState)(!!localStorage.getItem("password")),m=Object(l.a)(j,2),b=m[0],x=m[1],h=Object(s.useState)(!1),p=Object(l.a)(h,2),v=p[0],y=p[1],w=Object(o.g)(),C=Object(s.useContext)(u).signin,F=function(){var e=Object(f.a)(g.a.mark((function e(t){var n,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.tokenId,e.next=4,N(t,n);case 4:s=e.sent,(null===(r=s.data)||void 0===r?void 0:r.token)?(C(r),b&&!n?(localStorage.setItem("username",null===t||void 0===t?void 0:t.username),localStorage.setItem("password",null===t||void 0===t?void 0:t.password)):(localStorage.removeItem("username"),localStorage.removeItem("password")),w.push("/")):y(r.errors),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),I=S.b().shape({username:S.c().required("The username is required"),password:S.c().min(4,"The password must be at least 4 characters long").required("The password is required")});return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"min-h-full flex items-center justify-center py-5 px-4 sm:px-6 lg:px-8",children:Object(d.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(i.b,{className:" sm:h-48 h-36 m-auto text-indigo-600"}),Object(d.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Log in to your account"})]}),Object(d.jsx)(k.d,{initialValues:a,validationSchema:I,onSubmit:F,children:Object(d.jsxs)(k.c,{className:"mt-8 space-y-6",children:[v&&Object(d.jsx)("div",{className:" bg-red-500 text-center p-2 text-white",children:v}),Object(d.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(d.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"sr-only",children:"Username"}),Object(d.jsx)(k.b,{name:"username",autoComplete:"current-username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"username"})]}),Object(d.jsxs)("div",{className:"flex flex-row relative",children:[Object(d.jsx)("label",{className:"sr-only",children:"Password"}),Object(d.jsx)(k.b,{name:"password",type:n?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none border border-gray-300 relative block w-full px-3 py-2 rounded-b-md  placeholder-gray-500 text-gray-900 focus:outline-none sm:text-sm focus:ring-indigo-500 focus:border-indigo-500 focus:z-10",placeholder:"Password"}),Object(d.jsx)("div",{className:"px-3 absolute right-0 bottom-0 h-full grid items-center z-20 cursor-pointer",children:n?Object(d.jsx)(O.d,{onClick:function(){return r(!n)},className:"h-6 text-gray-500"}):Object(d.jsx)(O.c,{onClick:function(){return r(!n)},className:"h-6 text-gray-500"})})]}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"password"})]}),Object(d.jsxs)("div",{className:"flex items-center justify-between",children:[Object(d.jsxs)("div",{className:"flex items-center",children:[Object(d.jsx)("input",{id:"remember-me",name:"remember-me",checked:b,type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded cursor-pointer",onChange:function(){x(!b)}}),Object(d.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),Object(d.jsx)("div",{className:"text-sm",children:Object(d.jsx)(c.b,{to:"/reset-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(d.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(d.jsx)(O.f,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Log in"]}),Object(d.jsx)(T,{handleSubmit:F}),Object(d.jsxs)("div",{className:"text-lg text-center m-2",children:["New user?"," ",Object(d.jsx)(c.b,{to:"/register",className:" text-lg text-indigo-600 hover:text-indigo-500",children:"Sign Up"})]})]})]})})]})})})},I=function(){return Object(d.jsx)(h,{children:Object(d.jsx)(F,{})})},R=n(243);var z=function(){return Object(d.jsx)("svg",{className:"animate-spin w-full h-full mr-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})},P=function(e){var t=Object.assign({},e),n=t.newOperationItem,r=t.onSubmit,a=t.isEdit,c=t.isOpen,o=t.handleCloseModal,i=S.b().shape({concept:S.c().required(),category:S.c().required(),type:S.c().required(),amount:S.a().moreThan(-1,"Amount must be a positive number").required()});return Object(d.jsx)(k.d,{initialValues:n,validationSchema:i,onSubmit:r,enableReinitialize:!0,children:function(e){var t=e.isSubmitting,r=e.handleReset;return Object(d.jsx)(m.a.Root,{show:c,as:s.Fragment,children:Object(d.jsx)(R.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:function(){},children:Object(d.jsx)("div",{className:"flex items-end relative justify-center min-h-screen pt-4 px-4 pb-40 text-center ",children:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(d.jsx)(R.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(d.jsx)(m.a.Child,{as:s.Fragment,enter:"ease-out duration-500",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(d.jsxs)("div",{className:"p-2 relative",children:[Object(d.jsxs)(k.c,{className:"sm:px-10 px-5 py-5 inline-flex flex-col align-bottom bg-gradient-to-br from-indigo-400 to-indigo-500 rounded-lg text-left overflow-hidden shadow-xl transform transition-all  sm:max-w-lg relative",children:[Object(d.jsx)("h1",{className:"mx-auto mb-4 text-xl text-white text-center",children:a?Object(d.jsx)(d.Fragment,{children:"Please update the Operation"}):Object(d.jsx)(d.Fragment,{children:"Please insert a new Operation"})}),Object(d.jsx)("label",{className:"text-white",children:"Concept: "}),Object(d.jsx)(k.b,{placeholder:"Example: Youtube Premium",className:"py-0.5 focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300",name:"concept"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm capitalize",children:t})},name:"concept"}),Object(d.jsx)("label",{className:"text-white",children:"Category: "}),"Income"===n.type?Object(d.jsxs)(k.b,{as:"select",className:"py-0.5 focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300",name:"category",children:[Object(d.jsx)("option",{value:"Crypto",children:"Crypto"}),Object(d.jsx)("option",{value:"Profit",children:"Profit"}),Object(d.jsx)("option",{value:"Inheritance",children:"Inheritance"}),Object(d.jsx)("option",{value:"Salary",children:"Salary"}),Object(d.jsx)("option",{value:"Sale",children:"Sale"}),Object(d.jsx)("option",{value:"Rental",children:"Rental"}),Object(d.jsx)("option",{value:"Transaction",children:"Transaction"}),Object(d.jsx)("option",{value:"Other",children:"Other"})]}):Object(d.jsxs)(k.b,{className:"py-0.5 focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300",name:"category",as:"select",children:[Object(d.jsx)("option",{value:"Crypto",children:"Crypto"}),Object(d.jsx)("option",{value:"Food",children:"Food"}),Object(d.jsx)("option",{value:"School",children:"School"}),Object(d.jsx)("option",{value:"University",children:"University"}),Object(d.jsx)("option",{value:"Internet",children:"Internet"}),Object(d.jsx)("option",{value:"Credit Card",children:"Credit Card"}),Object(d.jsx)("option",{value:"Rental",children:"Rental"}),Object(d.jsx)("option",{value:"Transaction",children:"Transaction"}),Object(d.jsx)("option",{value:"Services",children:"Services"}),Object(d.jsx)("option",{value:"Other",children:"Other"})]}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm capitalize",children:t})},name:"category"}),Object(d.jsx)("label",{className:"text-white",children:"Amount: "}),Object(d.jsx)(k.b,{className:"py-0.5 focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300",type:"number",name:"amount"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm capitalize",children:t})},name:"amount"}),Object(d.jsx)("label",{className:"text-white",children:"Type: "}),Object(d.jsxs)(k.b,{className:"py-0.5 focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300",name:"type",as:"select",disabled:a,children:[Object(d.jsx)("option",{value:"Income",children:"Income"}),Object(d.jsx)("option",{value:"Expense",children:"Expense"})]}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm capitalize",children:t})},name:"type"}),Object(d.jsx)("label",{className:"text-white",children:"Date: "}),Object(d.jsx)(k.b,{className:"py-0.5 focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300 ",type:"date",name:"date"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm capitalize",children:t})},name:"date"}),Object(d.jsx)("div",{className:"flex justify-around text-white mt-3",children:Object(d.jsxs)("button",{className:"w-20  ".concat(a?"bg-gray-400 hover:bg-gray-500":"bg-green-500 hover:bg-green-600"," rounded-md px-4 py-1 transform hover:scale-105 duration-300 ease-in-out inline-flex justify-center  ").concat(t?"cursor-not-allowed opacity-80":" cursor-pointer"),type:"submit",disabled:t,children:[a?Object(d.jsx)(d.Fragment,{children:"Edit"}):Object(d.jsx)(d.Fragment,{children:"Create"}),t&&Object(d.jsx)("div",{className:"h-full w-full text-white ml-1",children:Object(d.jsx)(z,{})})]})})]}),Object(d.jsx)("button",{className:" w-8 bg-red-500 hover:bg-red-600 rounded-full p-2 transform hover:scale-105 duration-300 ease-in-out absolute top-0 right-0 text-white z-50",type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),o({handleReset:r})},children:Object(d.jsx)(O.l,{})})]})})]})})})})}})},E="".concat("https://alkemy-back-challenge.herokuapp.com","/api/operations"),q=function(){var e=Object(f.a)(g.a.mark((function e(t,n){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={headers:{authorization:localStorage.getItem("token")}},t){e.next=5;break}return e.abrupt("return",y.a.post(E,n,s).then((function(e){return e.data})));case 5:return e.abrupt("return",y.a.patch(E,n,s).then((function(e){return e.data})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{authorization:localStorage.getItem("token")}},e.abrupt("return",y.a.delete(E+"/"+t,n).then((function(e){return e.data})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A={getOperationList:function(){var e=Object(f.a)(g.a.mark((function e(t){var n,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{authorization:localStorage.getItem("token")}},e.next=4,y.a.get(E+"/userOperations?"+t,n);case 4:return s=e.sent,r=s.data,e.abrupt("return",r.data.operations);case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),deleteOperationItem:D,submitOperationItem:q},L=n(9),M=Object(s.createContext)(),U=function(e){var t=e.children,n=Object(o.h)(),r=Object(o.g)(),a=Object(s.useState)(new URLSearchParams(n.search)),c=Object(l.a)(a,2),i=c[0],u=c[1],j=parseInt(null===i||void 0===i?void 0:i.get("page"))||0,m=parseInt(null===i||void 0===i?void 0:i.get("size"))||5,b=(null===i||void 0===i?void 0:i.get("search"))||"",x=(null===i||void 0===i?void 0:i.get("from"))||"",h=(null===i||void 0===i?void 0:i.get("to"))||"",p=(null===i||void 0===i?void 0:i.get("sort"))||"",g=(null===i||void 0===i?void 0:i.get("filterBy"))||"";Object(s.useEffect)((function(){var e={page:j,size:m};b&&(e=Object(L.a)(Object(L.a)({},e),{},{search:b})),x&&(e=Object(L.a)(Object(L.a)({},e),{},{from:x})),h&&(e=Object(L.a)(Object(L.a)({},e),{},{to:h})),p&&(e=Object(L.a)(Object(L.a)({},e),{},{sort:p})),g&&(e=Object(L.a)(Object(L.a)({},e),{},{filterBy:g})),u(new URLSearchParams(e))}),[n,b,x,h,p,j,m,g,u]);return Object(d.jsx)(M.Provider,{value:{page:j,size:m,search:b,sort:p,filterBy:g,from:x,to:h,querys:i,setQuerys:u,setHistorySearchParams:function(e){u(e),r.push(n.pathname+"?"+i)}},children:t})},B={Type:["Income","Expense"],Category:["Profit","Inheritance","Salary","Sale","Crypto","Food","School","Univerisity","Internet","Credit","Rental","Transaction","Service","Other"]},H=function(e){Object.assign({},e);var t=Object(s.useContext)(M),n=t.search,r=t.from,a=t.to,c=t.filterBy,o=t.querys,i=t.setHistorySearchParams,l=(null===c||void 0===c?void 0:c.split(":")[0])||"",u=(null===c||void 0===c?void 0:c.split(":")[1])||"";return Object(d.jsxs)("form",{className:"flex flex-col justify-center my-5 text-gray-400 gap-3",onSubmit:function(e){e.preventDefault(),i(o)},children:[Object(d.jsx)("div",{className:"flex sm:flex-row flex-col justify-center sm:gap-0 gap-2 ",children:Object(d.jsxs)("div",{className:" flex flex-row w-full sm:w-96",children:[Object(d.jsx)("input",{type:"text",placeholder:"Search by concept or category",className:"w-full sm:text-lg pl-2 bg-white h-11 border-indigo-200 border-2 rounded-l-full outline-none text-xs",value:n,onChange:function(e){o.set("search",e.target.value),i(o)}}),Object(d.jsx)("button",{className:" bg-indigo-300 rounded-r-full ",children:Object(d.jsx)(O.h,{className:"h-11 sm:text-lg py-3 px-2 rounded-r-full text-white border-r-2 border-t-2 border-b-2 border-indigo-200 sm:hover:text-gray-300 cursor-pointer text-xs"})})]})}),Object(d.jsxs)("div",{className:" flex justify-center items-center flex-col font-medium",children:[Object(d.jsx)("label",{className:"text-center",children:"Filter By:"}),Object(d.jsxs)("div",{className:" flex gap-0.5",children:[Object(d.jsxs)("select",{className:"sm:w-40 w-full sm:text-lg pl-1  bg-white h-11 border-indigo-200 border-2  outline-none text-xs",name:"field-name",onChange:function(e){e.preventDefault();var t=e.target.value;if("None"===t)o.delete("filterBy");else{var n,s="".concat(t,":").concat((null===(n=B[t])||void 0===n?void 0:n.includes(u))?u:B[t][0]);o.set("filterBy",s)}i(o)},value:l,children:[Object(d.jsx)("option",{value:"",disabled:!0,children:"Select Field"}),Object(d.jsx)("option",{value:"Type",children:"Type"}),Object(d.jsx)("option",{value:"Category",children:"Category"}),Object(d.jsx)("option",{value:"None",children:"None"})]}),"None"!==l&&Object(d.jsxs)("select",{className:"sm:w-40 w-full sm:text-lg pl-1  bg-white h-11 border-indigo-200 border-2  outline-none text-xs",name:"field-options",onChange:function(e){e.preventDefault();var t=e.target.value,n=l+":"+t||"";o.set("filterBy",n),i(o)},value:u,children:[Object(d.jsx)("option",{value:"",disabled:!0,children:"Select Option"}),"Type"===l?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("option",{value:"Income",children:"Income"}),Object(d.jsx)("option",{value:"Expense",children:"Expense"})]}):Object(d.jsx)(d.Fragment,{children:"Category"===l&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("option",{value:"Profit",children:"Profit"}),Object(d.jsx)("option",{value:"Inheritance",children:"Inheritance"}),Object(d.jsx)("option",{value:"Salary",children:"Salary"}),Object(d.jsx)("option",{value:"Sale",children:"Sale"}),Object(d.jsx)("option",{value:"Crypto",children:"Crypto"}),Object(d.jsx)("option",{value:"Food",children:"Food"}),Object(d.jsx)("option",{value:"School",children:"School"}),Object(d.jsx)("option",{value:"University",children:"University"}),Object(d.jsx)("option",{value:"Internet",children:"Internet"}),Object(d.jsx)("option",{value:"Credit Card",children:"Credit Card"}),Object(d.jsx)("option",{value:"Rental",children:"Rental"}),Object(d.jsx)("option",{value:"Transaction",children:"Transaction"}),Object(d.jsx)("option",{value:"Services",children:"Services"}),Object(d.jsx)("option",{value:"Other",children:"Other"})]})})]})]})]}),Object(d.jsxs)("div",{className:" flex flex-row flex-wrap justify-center font-medium gap-0.5",children:[Object(d.jsxs)("div",{className:" flex flex-col",children:[Object(d.jsx)("label",{className:"ml-1",children:"From:"}),Object(d.jsx)("input",{type:"date",className:"sm:w-40 w-full sm:text-lg p-1 bg-white h-11  border-indigo-200 border-2 outline-none text-xs",value:r,onChange:function(e){o.set("from",e.target.value),i(o)}})]}),Object(d.jsxs)("div",{className:"flex flex-col",children:[Object(d.jsx)("label",{className:"ml-1",children:"To:"}),Object(d.jsx)("input",{type:"date",className:"sm:w-40 w-full sm:text-lg p-1  bg-white h-11 border-indigo-200 border-2  outline-none text-xs",value:a,onChange:function(e){o.set("to",e.target.value),i(o)}})]})]})]})},V=function(e){var t=Object.assign({},e),n=t.total,s=t.handleOpenModal;return Object(d.jsxs)("div",{className:" flex flex-col text-indigo-900 mt-10",children:[Object(d.jsxs)("h1",{className:"mx-auto text-2xl sm:text-3xl text-center font-semibold",children:["Your balance is",Object(d.jsxs)("strong",{className:"".concat(n>=0?"text-green-500":"text-red-500"),children:[" ",n<0&&"-","$",Math.abs(n)]})]}),Object(d.jsx)("div",{className:"text-center font-semibold  inline-flex w-full justify-center items-center my-2  ",children:Object(d.jsxs)("button",{className:" px-4 py-1 bg-indigo-500 text-white rounded-md shadow-md inline-flex items-center hover:bg-indigo-800 transform hover:scale-105 duration-300 ease-in-out ",onClick:s,children:["New",Object(d.jsx)(i.g,{className:" cursor-pointer h-8 ml-1 "})]})})]})},Y=function(e){var t=Object.assign({},e),n=t.modalText,r=t.open,a=t.handleClose,c=t.handleConfirm,o=t.type,l=Object(s.useRef)(null);return Object(d.jsx)(m.a.Root,{show:r,as:s.Fragment,children:Object(d.jsx)(R.a,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",initialFocus:l,onClose:function(){},children:Object(d.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-60 text-center sm:block sm:p-0",children:[Object(d.jsx)(m.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(d.jsx)(R.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(d.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(d.jsx)(m.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(d.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[Object(d.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(d.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(d.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ".concat("delete"===o?"bg-red-100":"bg-green-100"," sm:mx-0 sm:h-10 sm:w-10"),children:"delete"===o?Object(d.jsx)(O.b,{className:"h-6 w-6 text-red-600","aria-hidden":"true"}):Object(d.jsx)(i.a,{className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),Object(d.jsx)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:Object(d.jsx)("div",{className:"mt-2",children:Object(d.jsx)("p",{className:"text-sm text-gray-500",children:n})})})]})}),Object(d.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:["delete"===o?Object(d.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:c,children:"Delete"}):Object(d.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:green-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:c,children:"Accept"}),"delete"===o&&Object(d.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:a,ref:l,children:"Cancel"})]})]})})]})})})};var J=function(e){var t=e.children;return Object(d.jsx)("div",{className:"hidden sm:block",children:Object(d.jsx)("div",{className:"-my-2 overflow-x-auto   ",children:Object(d.jsx)("div",{className:"align-middle sm:px-4 lg:px-8",children:Object(d.jsx)("div",{className:"my-1 p-3 transform hover:translate-x-1 duration-300 ease-in-out ",children:Object(d.jsx)("table",{className:" text-xs sm:text-lg block text-gray-900     ",children:t})})})})})};var W=function(e){var t=e.handleResetSort,n=e.handleToggleSort,s=e.toggleSort,r=e.name;return Object(d.jsxs)("div",{className:"inline-flex",children:[Object(d.jsx)("button",{name:r,className:"mr-1 hover:text-indigo-300 sm:uppercase capitalize",onClick:function(e){t(e)},children:r}),s[r]?Object(d.jsx)(O.i,{name:r,className:" h-4 sm:h-8 cursor-pointer hover:text-indigo-300",onClick:function(e){n(e)}}):Object(d.jsx)(O.j,{name:r,className:" h-4 sm:h-8 cursor-pointer hover:text-indigo-300",onClick:function(e){n(e)}})]})};var $=function(e){var t=e.handleResetSort,n=e.handleToggleSort,s=e.toggleSort;return Object(d.jsx)("thead",{className:"bg-indigo-600",children:Object(d.jsxs)("tr",{className:" bg-indigo-600",children:[Object(d.jsx)("th",{scope:"col",className:"px-2 py-3 text-left  text-white uppercase tracking-wider bg-indigo-600",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"concept"})}),Object(d.jsx)("th",{scope:"col",className:"px-2 py-3 text-left text-white uppercase tracking-wider bg-indigo-600",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"category"})}),Object(d.jsx)("th",{scope:"col",className:"px-2 py-3 text-left text-white uppercase tracking-wider bg-indigo-600",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"amount"})}),Object(d.jsx)("th",{scope:"col",className:"px-2 py-3 text-left text-white uppercase tracking-wider bg-indigo-600",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"type"})}),Object(d.jsx)("th",{scope:"col",className:"px-2 py-3 text-left text-white uppercase tracking-wider bg-indigo-600",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"date"})}),Object(d.jsx)("th",{scope:"col",className:"relative px-2 py-3 bg-indigo-600",children:Object(d.jsx)("span",{className:"sr-only",children:"Delete"})}),Object(d.jsx)("th",{scope:"col",className:"relative px-2 py-3 bg-indigo-600",children:Object(d.jsx)("span",{className:"sr-only",children:"Edit"})})]})})};var G=function(e){var t=e.handleResetSort,n=e.handleToggleSort,s=e.toggleSort;return Object(d.jsxs)("div",{className:"text-xs text-indigo-900 font-light flex flex-row flex-wrap gap-2 py-3 sm:hidden",children:[Object(d.jsx)("div",{className:"text-left ",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"concept"})}),Object(d.jsx)("div",{className:"text-left  ",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"category"})}),Object(d.jsx)("div",{className:"text-left  ",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"amount"})}),Object(d.jsx)("div",{className:"text-left   ",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"type"})}),Object(d.jsx)("div",{className:"text-left  ",children:Object(d.jsx)(W,{handleResetSort:t,handleToggleSort:n,toggleSort:s,name:"date"})})]})},_=function(e){var t=Object.assign({},e),n=t.operationList,r=t.onEdit,a=t.onDelete,c=Object(s.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1],j=Object(s.useState)(null),m=Object(l.a)(j,2),b=m[0],x=m[1];return Object(d.jsxs)("tbody",{className:"",children:[null===n||void 0===n?void 0:n.map((function(e,t){return Object(d.jsxs)("tr",{className:"".concat(t%2===0?"bg-indigo-100 ":"bg-indigo-50 "," transform hover:scale-105 duration-300 ease-in-out hover:z-10 cursor-pointer"),children:[Object(d.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:e.concept}),Object(d.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:e.category}),Object(d.jsxs)("td",{className:"px-2 py-4 whitespace-nowrap",children:["Expense"===e.type&&Object(d.jsx)(d.Fragment,{children:"-"}),e.amount]}),Object(d.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:"Expense"===e.type?Object(d.jsx)("strong",{className:" text-red-500",children:e.type}):Object(d.jsx)("strong",{className:" text-green-500",children:e.type})}),Object(d.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:e.date}),Object(d.jsx)("td",{className:"px-2 py-4 whitespace-nowrap text-center text-sm font-medium",children:Object(d.jsx)("button",{className:" w-20 bg-red-600 hover:bg-red-700 text-white rounded-lg p-1 transform hover:scale-105 duration-300 ease-in-out",onClick:function(){u(!0),x(e.id)},children:"Delete"})}),Object(d.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:Object(d.jsx)("button",{className:"text-indigo-600 hover:text-indigo-900 hover:underline",onClick:function(){return r(e)},children:"Edit"})})]},e.id)})),Object(d.jsx)(Y,{modalText:"Are you sure you want to delete this operation?",open:i,handleClose:function(){u(!1)},handleConfirm:function(){return function(e){a(e),u(!1)}(b)},type:"delete"})]})},Q=function(e){var t=Object.assign({},e).cantOperations,n=Object(s.useContext)(M),r=n.page,a=n.size,c=n.querys,o=n.setHistorySearchParams,l={prev:(r+1)*a-a+1,next:(r+1)*a};Object(s.useEffect)((function(){if(r*a>=t){var e=Math.floor(t/a)-1;c.set("page",e>=0?e:0),o(c)}}),[t,r,a]);var u=function(e,t){e.preventDefault(),c.set("page",t),o(c)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"px-4 py-3 my-3 flex items-center justify-between sm:px-6",children:[t>a&&Object(d.jsxs)("div",{className:" container relative sm:hidden bottom-2",children:[l.prev>a&&Object(d.jsx)("div",{children:Object(d.jsx)("button",{onClick:function(e){return u(e,r-1)},className:"absolute items-center left-0 px-4 py-2 border border-indigo-600 text-sm font-medium rounded-md text-indigo-600 bg-white hover:bg-gray-50",children:"Previous"})}),l.next<t&&Object(d.jsx)("button",{onClick:function(e){return u(e,r+1)},className:"ml-3 absolute right-0 items-center px-4 py-2 border border-indigo-600 text-sm font-medium rounded-md text-indigo-600 bg-white hover:bg-gray-50",children:"Next"})]}),Object(d.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[t>0&&Object(d.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",Object(d.jsx)("span",{className:"font-medium",children:l.prev})," to"," ",Object(d.jsx)("span",{className:"font-medium",children:"".concat(l.next<t?l.next:t)})," ","of ",Object(d.jsx)("span",{className:"font-medium",children:t})," ","operations"]}),Object(d.jsx)("div",{children:t>a&&Object(d.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[l.prev>a&&Object(d.jsxs)("button",{onClick:function(e){return u(e,r-1)},className:"relative inline-flex items-center px-2 py-2 rounded-l-full border border-indigo-600 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 transform hover:scale-105 duration-300 ease-in-out",children:[Object(d.jsx)("span",{className:"sr-only",children:"Previous"}),Object(d.jsx)(i.c,{className:"h-5 w-5","aria-hidden":"true"})]}),l.next<t&&Object(d.jsxs)("button",{onClick:function(e){return u(e,r+1)},className:"relative inline-flex items-center px-2 py-2 rounded-r-full border border-indigo-600 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 transform hover:scale-105 duration-300 ease-in-out",children:[Object(d.jsx)("span",{className:"sr-only",children:"Next"}),Object(d.jsx)(i.d,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})})},K=n.p+"static/media/output-onlinepngtools (1).093152fd.png",X=n.p+"static/media/output-onlinepngtools.52ab1d1b.png",Z=n(245);function ee(e){var t=e.onDelete,n=e.onEdit;return Object(d.jsxs)(Z.a,{as:"div",className:"relative inline-block text-left",children:[Object(d.jsx)("div",{children:Object(d.jsx)(Z.a.Button,{className:"h-7 w-7",children:Object(d.jsx)(O.a,{"aria-hidden":"true"})})}),Object(d.jsx)(m.a,{as:s.Fragment,enter:"transition ease-in-out duration-500",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-200",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(d.jsx)(Z.a.Items,{className:"origin-top-right absolute right-0 -mt-1 rounded-md text-center shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(d.jsxs)("div",{className:"px-1 pt-1 relative z-50",children:[Object(d.jsx)(Z.a.Item,{children:Object(d.jsxs)("button",{className:"inline-flex text-indigo-500",onClick:n,children:["Edit",Object(d.jsx)(O.g,{className:" h-6 text-indigo-500"})]})}),Object(d.jsx)(Z.a.Item,{children:Object(d.jsxs)("button",{className:"inline-flex text-red-500",onClick:t,type:"button",children:["Delete",Object(d.jsx)(O.k,{className:" h-6 text-red-500"})]})})]})})})]})}var te=function(e){var t=e.operationList,n=e.onEdit,r=e.onDelete,a=Object(s.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(s.useState)(null),j=Object(l.a)(u,2),b=j[0],x=j[1];return Object(d.jsxs)("div",{className:" grid gap-2 sm:hidden text-indigo-800",children:[null===t||void 0===t?void 0:t.map((function(e,t){return Object(d.jsx)(m.a,{as:"div",className:"relative",appear:!0,show:!0,enter:"ease-in-out duration-500",enterFrom:" transform opacity-20 translate-x-10",enterTo:" transform",children:Object(d.jsxs)("div",{className:"".concat(t%2===0?"bg-indigo-100 ":"bg-indigo-200 "," cursor-pointer rounded-2xl p-2 relative border-2 shadow-md hover:scale-105 transform duration-300 ease-in-out min-h-full"),children:[Object(d.jsx)("div",{className:" absolute right-2 top-1",children:Object(d.jsx)(ee,{onEdit:function(){return n(e)},onDelete:function(){i(!0),x(e.id)}})}),Object(d.jsxs)("div",{className:" flex justify-center items-center",children:[Object(d.jsx)("div",{className:" h-full w-full grid justify-center items-center",children:Object(d.jsx)("div",{className:"w-16 h-16",children:"Expense"===e.type?Object(d.jsx)("img",{src:X,alt:"",className:" text-red-500 max-h-16"}):Object(d.jsx)("img",{src:K,alt:"",className:" text-green-500  "})})}),Object(d.jsxs)("div",{className:" text-xs w-full ",children:[Object(d.jsx)("p",{className:"px-3 sm:px-6 text-base font-bold",children:e.concept}),Object(d.jsx)("p",{className:"px-3 sm:px-6 text-sm font-medium",children:e.category}),Object(d.jsx)("p",{className:"px-3 sm:px-6",children:e.date})]}),Object(d.jsx)("div",{className:"flex items-center justify-center w-full text-xl",children:"Expense"===e.type?Object(d.jsxs)("strong",{className:" text-red-500",children:["-$",e.amount]}):Object(d.jsxs)("strong",{className:" text-green-500",children:["+$",e.amount]})})]})]})},e.id)})),Object(d.jsx)(Y,{modalText:"Are you sure you want to delete this operation?",open:o,handleClose:function(){i(!1)},handleConfirm:function(){return function(e){r(e),i(!1)}(b)},type:"delete"})]})},ne=function(){var e=Object(s.useContext)(M).size;return Object(d.jsx)("div",{className:" grid gap-2 animate-pulse sm:hidden w-full",children:Array(e).fill(1,0,e).map((function(e,t){return Object(d.jsx)("div",{className:"h-20 w-full  bg-indigo-100 rounded-2xl p-2 relative border-2 shadow-md",children:Object(d.jsx)("div",{className:" h-full w-20 bg-indigo-50 animate-pulse delay-75 rounded-md"})},t)}))})},se=function(e){var t=Object.assign({},e),n=t.operationList,r=t.onDelete,a=t.onEdit,c=t.cantOperations,o=t.isLoading,i=Object(s.useState)({concept:!1,category:!1,amount:!1,type:!1,date:!1}),u=Object(l.a)(i,2),j=u[0],b=u[1],x=Object(s.useContext)(M),h=x.setHistorySearchParams,p=x.querys,g=x.search,f=x.from,O=x.filterBy,v=x.to,y=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("name")||"concept",n="";n=j[t]?t+":ASC":t+":DESC",p.get("sort")?p.get("sort").includes(t)?p.set("sort",p.get("sort").split(t)[0]+n):p.set("sort",p.get("sort")+","+n):p.set("sort",n),j[t]=!j[t],b(j),h(p)},w=function(e){var t,n,s,r,a,c,o,i=e.currentTarget.getAttribute("name")||"concept",l=p.get("sort"),d=new RegExp(",*".concat(i,":ASC,*|,*").concat(i,":DESC,*"),"i");l=(null===(t=l)||void 0===t||null===(n=t.split(",")[0])||void 0===n?void 0:n.search(d))&&(null===(s=l)||void 0===s||null===(r=s.split(",")[(null===(a=l)||void 0===a?void 0:a.split(",").length)-1])||void 0===r?void 0:r.search(d))?null===(o=l)||void 0===o?void 0:o.replace(d,","):null===(c=l)||void 0===c?void 0:c.replace(d,""),p.set("sort",l),!l&&p.delete("sort"),j[i]=!1,b(j),h(p)};return Object(d.jsx)(d.Fragment,{children:c>0||o?Object(d.jsxs)(d.Fragment,{children:[o?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:" grid justify-center text-indigo-500 w-full",children:Object(d.jsx)("div",{className:" h-14 w-14 hidden sm:block",children:Object(d.jsx)(z,{})})})}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(m.a,{as:"div",appear:!0,show:!0,enter:"ease-in-out duration-500 delay-150",enterFrom:" transform opacity-20 translate-x-10",enterTo:" transform",children:Object(d.jsxs)(J,{children:[Object(d.jsx)($,{handleResetSort:w,handleToggleSort:y,toggleSort:j}),Object(d.jsx)(_,{operationList:n,onEdit:a,onDelete:r})]})})}),Object(d.jsx)(G,{handleResetSort:w,handleToggleSort:y,toggleSort:j}),o?Object(d.jsx)(ne,{}):Object(d.jsx)(te,{operationList:n,onEdit:a,onDelete:r}),Object(d.jsx)(Q,{cantOperations:c})]}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"grid w-full justify-center",children:g||f||v||O?Object(d.jsx)("div",{className:"grid gap-5 max-w-max p-5 text-indigo-900",children:Object(d.jsx)("p",{className:"text-center text-lg font-semibold",children:"Nothing to show"})}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:" grid gap-5 max-w-max p-5 text-indigo-900",children:[Object(d.jsx)("p",{className:"text-center text-lg font-semibold",children:"You dont have operations yet"}),Object(d.jsx)("p",{className:"text-sm text-center font-medium",children:"Please add a new operation"})]})})})})})};function re(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),n=t[0],r=t[1],a={concept:"",category:"Crypto",amount:0,type:"Income",date:""},c=Object(s.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1],j=Object(s.useState)(a),m=Object(l.a)(j,2),x=m[0],h=m[1],p=Object(s.useState)(!1),g=Object(l.a)(p,2),f=g[0],O=g[1],v=Object(s.useState)(!1),y=Object(l.a)(v,2),w=y[0],N=y[1],S=Object(s.useState)(!1),k=Object(l.a)(S,2),C=k[0],T=k[1],F=Object(s.useState)(!1),I=Object(l.a)(F,2),R=I[0],z=I[1],E=Object(s.useState)(0),q=Object(l.a)(E,2),D=q[0],L=q[1],U=Object(s.useContext)(M).querys,B=Object(s.useState)(""),J=Object(l.a)(B,2),W=J[0],$=J[1],G=Object(s.useState)(!1),_=Object(l.a)(G,2),Q=_[0],K=_[1];Object(s.useEffect)((function(){K(!0),A.getOperationList(U).then((function(e){var t=e||{},n=t.rows,s=t.count,a=t.total;K(!1),L(s),u(n),r(a)}))}),[C,U]);return Object(d.jsxs)(b,{children:[Object(d.jsx)(H,{}),Object(d.jsx)(V,{total:n,handleOpenModal:function(){h(a),O(!0),z(!1)}}),Object(d.jsx)(se,{operationList:i,onEdit:function(e){z(!0),O(!0),h(e)},onDelete:function(e){A.deleteOperationItem(e).then((function(){T(!C),setTimeout((function(){$("The operation has been deleted successfully"),N(!0)}),300)}))},cantOperations:D,isLoading:Q}),Object(d.jsx)(P,{onSubmit:function(e,t){var n=t.resetForm;A.submitOperationItem(R,e).then((function(){T(!C),O(!1),h(a),setTimeout((function(){$(R?"The operation has been updated successfully":"The operation has been created successfully"),N(!0),n()}),300)}))},newOperationItem:x,isEdit:R,isOpen:f,handleCloseModal:function(e){(0,e.handleReset)(),O(!1)}}),Object(d.jsx)(Y,{modalText:W,open:w,handleConfirm:function(){N(!1)},type:"confirm"})]})}var ae=n(57),ce=function(){return Object(d.jsxs)("div",{className:" grid items-center max-w-prose text-xs sm:text-base gap-1 animate-pulse",children:[Object(d.jsx)("div",{className:"sm:h-8 h-4  border bg-indigo-100"}),Object(d.jsx)("div",{className:"sm:h-8 h-4  border bg-indigo-100"}),Object(d.jsx)("div",{className:"sm:h-8 h-4  border bg-indigo-100"})]})},oe=n(239),ie="".concat("https://alkemy-back-challenge.herokuapp.com","/api/users/me"),le={getMe:function(){var e=Object(f.a)(g.a.mark((function e(){var t,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{authorization:localStorage.getItem("token")}},e.prev=1,e.next=4,y.a.get(ie,t);case 4:return n=e.sent,s=n.data,e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),deleteMe:function(){var e=Object(f.a)(g.a.mark((function e(){var t,n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{authorization:localStorage.getItem("token")}},e.prev=1,e.next=4,y.a.delete(ie,t);case 4:return n=e.sent,s=n.data,e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),updateMe:function(){var e=Object(f.a)(g.a.mark((function e(t){var n,s,r,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new oe,s=Object.keys(t),console.log(t),s.map((function(e){return n.append(e,t[e])})),r={headers:Object(L.a)({authorization:localStorage.getItem("token")},n.getHeaders)},console.log(n),e.prev=6,e.next=9,y.a.patch(ie,n,r);case 9:return a=e.sent,c=a.data,e.abrupt("return",c);case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}()},de=function(){var e=Object(s.useState)({}),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(!0),c=Object(l.a)(a,2),o=c[0],j=c[1],m=Object(s.useState)(!1),x=Object(l.a)(m,2),h=x[0],p=x[1],g=Object(s.useState)(!1),f=Object(l.a)(g,2),O=f[0],v=f[1],y=Object(s.useContext)(u),w=y.signout,N=y.setUserData,S=Object(s.useState)(!1),k=Object(l.a)(S,2),C=k[0],T=k[1];Object(s.useEffect)((function(){T(!0),le.getMe().then((function(e){var t,n,s,a=(null===e||void 0===e?void 0:e.data)||{},c=a.username,o=a.name,i=a.surname,l=a.avatar,d="";(null===l||void 0===l?void 0:l.length)>0&&(d=(null===Array||void 0===Array?void 0:Array.from(null===Array||void 0===Array||null===(t=Array.from(l))||void 0===t||null===(n=t.reverse())||void 0===n||null===(s=n.join(""))||void 0===s?void 0:s.split("/")[0]).reverse().join(""))||null);r({username:c,name:o,surname:i,avatar:l,key:d}),T(!1)}))}),[]);return Object(d.jsx)(b,{children:Object(d.jsxs)("form",{className:" grid relative ",onSubmit:function(e){return function(e){e.preventDefault(),o||le.updateMe(n).then((function(){v(!0),j(!0),N(n)})),console.log(n)}(e)},children:[Object(d.jsx)("div",{className:" absolute top-0 right-0 sm:hidden z-10 text-indigo-900",children:Object(d.jsx)(ee,{onEdit:function(){setTimeout((function(){j(!1)}),500)},onDelete:function(){p(!0)}})}),Object(d.jsx)("h1",{className:" text-center sm:text-3xl text-xl",children:Object(d.jsx)("strong",{className:" text-indigo-600",children:"My Profile"})}),Object(d.jsxs)("div",{className:" grid grid-cols-2 my-4",children:[Object(d.jsx)("div",{className:"grid justify-center items-center",children:Object(d.jsxs)("div",{className:" sm:w-72 w-36 rounded-full grid items-center justify-center text-xs sm:text-base p-6 gap-3",children:[Object(d.jsxs)("div",{className:" relative",children:[(null===n||void 0===n?void 0:n.preview)&&Object(d.jsx)("button",{className:"p-2 absolute top-0 right-0 text-red-500 hover:text-red-700",onClick:function(e){e.preventDefault(),e.stopPropagation(),r(Object(L.a)(Object(L.a)({},n),{},{preview:null,avatar:null}))},children:Object(d.jsx)(i.i,{className:"sm:h-8 h-4"})}),(null===n||void 0===n?void 0:n.avatar)?Object(d.jsx)("img",{alt:"",src:(null===n||void 0===n?void 0:n.preview)?null===n||void 0===n?void 0:n.preview:null===n||void 0===n?void 0:n.avatar}):Object(d.jsx)(i.h,{className:" text-indigo-900 h-full w-full"})]}),Object(d.jsx)("div",{className:"grid justify-center",children:Object(d.jsx)("label",{for:"avatar",className:"border w-18 sm:w-24 px-1 py-0.5 rounded-md border-gray-200 hover:bg-gray-100 cursor-pointer flex flex-col items-center ".concat(o?"opacity-80 hidden":"transform hover:scale-105 duration-300 ease-in-out "),children:"Change"})}),Object(d.jsx)("input",{id:"avatar",type:"file",disabled:o,className:" hidden",name:"avatar",accept:"image/*",onChange:function(e){r(Object(L.a)(Object(L.a)({},n),{},{avatar:e.target.files[0],preview:e.target.files[0]?URL.createObjectURL(e.target.files[0]):null}))}})]})}),C?Object(d.jsx)(ce,{}):Object(d.jsx)(ue,{isDisabled:o,user:n,handleChange:function(e){r(Object(L.a)(Object(L.a)({},n),{},Object(ae.a)({},e.target.name,e.target.value)))}})]}),Object(d.jsxs)("div",{className:" text-xs sm:text-base flex justify-around text-white",children:[Object(d.jsx)("button",{onClick:function(){setTimeout((function(){j(!1)}),500)},className:"w-20 sm:block hidden bg-indigo-600 hover:bg-indigo-900 shadow-sm rounded-md px-4 py-1 transform hover:scale-105 duration-300 ease-in-out",type:"submit",children:"Edit"}),o?Object(d.jsx)("button",{className:"w-20 sm:block hidden bg-red-500 hover:bg-red-700 shadow-sm rounded-md px-4 py-1 transform hover:scale-105 duration-300 ease-in-out",onClick:function(){p(!0)},type:"button",children:"Delete"}):Object(d.jsx)("button",{className:"sm:w-20 bg-gray-300 hover:bg-gray-400 shadow-sm rounded-md px-4 py-1 transform hover:scale-105 duration-300 ease-in-out",onClick:function(){j(!0)},type:"button",children:"Cancel"})]}),Object(d.jsx)(Y,{modalText:"Are you sure you want to delete your account?",open:h,handleClose:function(){p(!1)},handleConfirm:function(){le.deleteMe().then((function(){w(),p(!1)}))},type:"delete"}),Object(d.jsx)(Y,{modalText:"Your account has been updated successfully",open:O,handleConfirm:function(){return v(!1)},type:"success"})]})})};function ue(e){var t=e.isDisabled,n=e.user,s=e.handleChange;return Object(d.jsxs)("div",{className:" grid items-center max-w-prose text-xs sm:text-base gap-1",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Name:"}),Object(d.jsx)("input",{disabled:t,value:null===n||void 0===n?void 0:n.name,name:"name",className:"sm:h-8 bg-indigo-100 shadow-sm focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300 ".concat(t&&"opacity-70"),type:"text",onChange:s})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Surname:"}),Object(d.jsx)("input",{disabled:t,value:null===n||void 0===n?void 0:n.surname,name:"surname",className:"sm:h-8 bg-indigo-100 shadow-sm focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300 ".concat(t&&"opacity-70"),type:"text",onChange:s})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Username:"}),Object(d.jsx)("input",{disabled:t,value:null===n||void 0===n?void 0:n.username,name:"username",className:"sm:h-8 bg-indigo-100 shadow-sm focus:ring-indigo-600 focus:border-indigo-600 focus:outline-none border block w-full px-1 sm:text-lg border-gray-300 ".concat(t&&"opacity-70"),type:"text",onChange:s})]})]})}var je="".concat("https://alkemy-back-challenge.herokuapp.com","/api/users"),me=function(){var e=Object(f.a)(g.a.mark((function e(t,n){var s,r,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=9;break}return e.next=4,y.a.post("".concat(je,"/register"),t);case 4:return s=e.sent,r=s.data,e.abrupt("return",r);case 9:return e.next=11,y.a.post("".concat(je,"/googleAuth"),{tokenId:n});case 11:return a=e.sent,c=a.data,console.log(c),e.abrupt("return",c);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,n){return e.apply(this,arguments)}}(),be=function(e){var t=Object.assign({},e),n=t.onSubmit,s=t.error,r=S.b().shape({name:S.c().required("The name is required"),surname:S.c().required("The surname is required"),username:S.c().required("The username is required"),password:S.c().min(4,"The password must be at least 4 characters long").required("The password is required")});return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"min-h-full flex items-center justify-center py-5  px-4 sm:px-6 lg:px-8",children:Object(d.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(i.b,{className:"  sm:h-48 h-32 m-auto text-indigo-600"}),Object(d.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})]}),Object(d.jsx)(k.d,{initialValues:{name:"",surname:"",username:"",password:""},validationSchema:r,onSubmit:n,children:Object(d.jsxs)(k.c,{className:"mt-8 space-y-6",children:[s&&Object(d.jsx)("div",{className:" bg-red-500 text-center p-2 text-white",children:s}),Object(d.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(d.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"sr-only",children:"Name"}),Object(d.jsx)(k.b,{name:"name",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Name"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"name"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"sr-only",children:"Surname"}),Object(d.jsx)(k.b,{name:"surname",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Surname"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"surname"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"sr-only",children:"Username"}),Object(d.jsx)(k.b,{name:"username",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"username"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"sr-only",children:"Password"}),Object(d.jsx)(k.b,{name:"password",type:"password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"password"})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(d.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(d.jsx)(i.e,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Sign up"]}),Object(d.jsx)(T,{handleSubmit:n}),Object(d.jsxs)("div",{className:"text-lg text-center m-2",children:["Already have an account?"," ",Object(d.jsx)(c.b,{to:"/login",className:" text-lg text-indigo-600 hover:text-indigo-500",children:"Log In"})]})]})]})})]})})})},xe=function(){var e=Object(o.g)(),t=Object(s.useState)(!1),n=Object(l.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(""),i=Object(l.a)(c,2),j=i[0],m=i[1],b=Object(s.useContext)(u).signin,x=function(){var t=Object(f.a)(g.a.mark((function t(n){var s,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.tokenId,t.prev=1,t.next=4,me(n,s);case 4:if(r=t.sent,(c=r.data).errors){t.next=13;break}if(!s){t.next=10;break}return b(c),t.abrupt("return",e.push("/"));case 10:a(!0),t.next=14;break;case 13:m(c.errors);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),m("This username has been used");case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)(h,{children:[Object(d.jsx)(be,{onSubmit:x,error:j}),Object(d.jsx)(Y,{modalText:"Your account has been created successfully!",open:r,handleConfirm:function(){a(!1),e.push("/login")},type:"confirm"})]})},he=function(e){var t=Object.assign({},e),n=t.onSubmit,s=t.error,r=S.b().shape({username:S.c().required("The username is required"),password:S.c().min(4,"The password must be at least 4 characters long").required("The password is required"),passwordRepeated:S.c().min(4,"The password must be at least 4 characters long").required("The password is required")});return Object(d.jsx)("div",{className:"min-h-full flex items-center justify-center py-5 px-4 sm:px-6 lg:px-8",children:Object(d.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)(i.b,{className:"  sm:h-48 h-32 m-auto text-indigo-600"}),Object(d.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your Password"})]}),Object(d.jsx)(k.d,{initialValues:{username:"",password:"",passwordRepeated:""},validationSchema:r,onSubmit:n,children:function(e){e.values;return Object(d.jsxs)(k.c,{className:"mt-8 space-y-6",children:[s&&Object(d.jsx)("div",{className:" bg-red-500 text-center p-2 text-white",children:s}),Object(d.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(d.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"sr-only",children:"Username"}),Object(d.jsx)(k.b,{name:"username",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"username"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"sr-only",children:"Password"}),Object(d.jsx)(k.b,{name:"password",type:"password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"password"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{className:"sr-only",children:"Password"}),Object(d.jsx)(k.b,{name:"passwordRepeated",type:"password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Repeat Password"}),Object(d.jsx)(k.a,{component:function(e){var t=e.children;return Object(d.jsx)("p",{className:" text-red-500 text-sm",children:t})},name:"passwordRepeated"})]})]}),Object(d.jsx)("div",{className:"flex items-center justify-center",children:Object(d.jsx)("div",{className:"text-sm",children:Object(d.jsx)(c.b,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Did you remember your password?"})})}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(d.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(d.jsx)(O.e,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Reset Password"]})})]})}})]})})},pe="".concat("https://alkemy-back-challenge.herokuapp.com","/api/users/reset-password"),ge=function(){var e=Object(f.a)(g.a.mark((function e(t){var n,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.put(pe,t);case 3:return n=e.sent,s=n.data,console.log(s),e.abrupt("return",s);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(""),c=Object(l.a)(a,2),i=c[0],u=c[1],j=Object(o.g)(),m=function(){var e=Object(f.a)(g.a.mark((function e(t,n){var s,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.setFieldError,console.log(t),e.prev=2,t.password!==t.passwordRepeated){e.next=11;break}return e.next=6,ge(t);case 6:a=e.sent,(c=a.data).errors?u(c.errors):r(!0),e.next=12;break;case 11:s("passwordRepeated","The passwords must be the sames");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("error");case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(d.jsxs)(h,{children:[Object(d.jsx)(he,{onSubmit:m,error:i}),Object(d.jsx)(Y,{modalText:"Your account has been updated successfully!",open:n,setOpen:n,handleConfirm:function(){r(!1),j.push("/login")},type:"confirm"})]})},Oe=n(59),ve=n(242);function ye(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var we=function(){var e=Object(s.useContext)(u),t=e.user,n=e.signout,r=Object(o.g)(),a=Object(o.h)(),l=function(){n(),r.push("/login")},j=[{name:"Dashboard",href:"/",current:"/"===a.pathname},{name:"Operations",href:"/operations",current:"/operations"===a.pathname},{name:"Profile",href:"/profile",current:"/profile"===a.pathname}];return Object(d.jsx)(ve.a,{as:"nav",className:"bg-gray-800  ",children:function(e){var n=e.open;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(d.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(d.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(d.jsxs)(ve.a.Button,{className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[Object(d.jsx)("span",{className:"sr-only",children:"Open main menu"}),n?Object(d.jsx)(i.i,{className:"block h-6 w-6","aria-hidden":"true"}):Object(d.jsx)(i.f,{className:"block h-6 w-6","aria-hidden":"true"})]})}),Object(d.jsxs)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:[Object(d.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[Object(d.jsx)(i.b,{className:"h-10 text-indigo-600 w-auto mx-3"}),Object(d.jsx)("h5",{className:" hidden lg:block w-auto text-2xl",children:"Operations Manager"})]}),Object(d.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(d.jsx)("div",{className:"flex space-x-4",children:j.map((function(e){return Object(d.jsx)(c.b,{to:e.href,className:ye(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","px-3 py-2 rounded-md text-sm font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)}))})})]}),Object(d.jsx)("div",{className:" hidden lg:block w-auto capitalize",children:"".concat(t.name," ").concat(t.surname)}),Object(d.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:Object(d.jsx)("button",{type:"button",onClick:l,className:"bg-gray-800 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:"Log Out"})})]})}),Object(d.jsx)(ve.a.Panel,{className:"sm:hidden",children:Object(d.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(d.jsxs)("div",{className:"flex flex-col w-auto justify-center my-2",children:[Object(d.jsx)(i.h,{className:"h-14"}),Object(d.jsx)("div",{className:"mx-auto mb-2 capitalize",children:"".concat(t.name," ").concat(t.surname)})]}),j.map((function(e){return Object(d.jsx)(ve.a.Button,{className:"flex flex-col",children:Object(d.jsx)(c.b,{to:e.href,className:ye(e.current?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white","block px-3 py-2 rounded-md text-base font-medium"),"aria-current":e.current?"page":void 0,children:e.name},e.name)},e.name)}))]})})]})}})},Ne=function(e){var t=e.children;return Object(d.jsxs)("div",{className:" text-purple-50 min-h-screen min-w-full bg-gradient-to-br from-indigo-500 to-indigo-900 ",children:[Object(d.jsx)(we,{}),Object(d.jsx)("div",{className:"p-5 grid grid-cols-1 justify-center items-center h-rest w-full       ",children:t})]})},Se=["component"],ke=function(e){var t=e.component,n=Object(Oe.a)(e,Se),r=Object(s.useContext)(u).isAuth;return Object(d.jsx)(o.b,Object(L.a)(Object(L.a)({},n),{},{children:r?Object(d.jsx)(Ne,{children:Object(d.jsx)(t,{})}):Object(d.jsx)(o.a,{to:{pathname:"/login"}})}))},Ce=["component"],Te=function(e){var t=e.component,n=Object(Oe.a)(e,Ce),r=Object(s.useContext)(u).isAuth;return Object(d.jsx)(o.b,Object(L.a)(Object(L.a)({},n),{},{children:r?Object(d.jsx)(o.a,{to:{pathname:"/"}}):Object(d.jsx)(t,{})}))};function Fe(){return Object(d.jsx)(c.a,{children:Object(d.jsx)(U,{children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(Te,{exact:!0,path:"/login",component:I}),Object(d.jsx)(Te,{exact:!0,path:"/register",component:xe}),Object(d.jsx)(Te,{exact:!0,path:"/reset-password",component:fe}),Object(d.jsx)(ke,{path:"/profile",component:de}),Object(d.jsx)(ke,{path:"/operations",component:re}),Object(d.jsx)(ke,{path:"/",component:x})]})})})}n(240);a.a.render(Object(d.jsx)(j,{children:Object(d.jsx)(Fe,{})}),document.getElementById("app"))}},[[241,1,2]]]);
//# sourceMappingURL=main.0cb556be.chunk.js.map